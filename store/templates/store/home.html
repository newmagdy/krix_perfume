{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Krix - Perfumes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background-color: #f5f5f5;
            font-family: 'Poppins', sans-serif;
            color: #333;
        }
        .navbar {
            height: 65px;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .navbar-brand img {
            height: 45px;
        }
        .nav-link {
            font-weight: 500;
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #ff4d6d;
        }
        .hero-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 80px 50px;
        }
        .hero-content {
            max-width: 55%;
        }
        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: bold;
            color: #222;
        }
        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #555;
        }
        .shop-btn {
            background-color: #ff4d6d;
            color: white;
            padding: 12px 30px;
            font-size: 1.3rem;
            border: none;
            border-radius: 30px;
            transition: 0.3s ease-in-out;
        }
        .shop-btn:hover {
            background-color: #e63950;
            transform: scale(1.1);
        }
        .zodiac-container {
            background-color: #fff;
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            width: 200px;
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
            margin-top: 70px;
        }
        .zodiac-container h4 {
            font-size: 0.9rem;
            margin: 0;
            text-align: center;
            color: #007bff;
        }
        .zodiac-container input[type="date"] {
            padding: 6px;
            width: 100%;
            font-size: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            background-color: #f8f9fa;
            text-align: center;
        }
        .zodiac-container button {
            width: 100%;
            padding: 6px;
            font-size: 12px;
            background-color: #ff4d6d;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        .zodiac-container button:hover {
            background-color: #ff4d6d;
        }
        #zodiac-result {
            font-weight: bold;
            text-align: center;
            color: #007bff;
            font-size: 0.9rem;
            margin-top: 5px;
        }


        .image-box {
            width: 35%;
            height: auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.3);
            background: white;
            position: relative;
            transition: all 0.3s ease-in-out;
        }
        .image-box:hover {
            box-shadow: 0px 15px 40px rgba(0, 0, 0, 0.5);
        }
        .image-box img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 10px;
        }


        @media (max-width: 992px) {
            .hero-container {
                flex-direction: column;
                text-align: center;
                padding: 40px 20px;
            }
            .hero-content {
                max-width: 100%;
            }
            .image-box {
                width: 80%;
                margin-top: 30px;
            }
            .zodiac-container {
                width: 100%;
                margin-top: 50px;
            }
        }

        @media (max-width: 768px) {
            .hero-container {
                padding-top: 100px; 
            }
        }

        @media (max-width: 992px) {
            .navbar-collapse {
                background-color: white; 
                padding: 10px;
                border-radius: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            }
            .navbar-nav .nav-link {
                color: #333 !important; 
            }
            .navbar-nav .nav-link:hover {
                color: #ff4d6d !important; 
            }
            .navbar-toggler {
                order: 0; /* Move the toggler to the right */
            }
            .navbar-brand {
                order: 0; /* Keep the logo on the left */
            }
            .nav-link.d-lg-none {
                order: 0; /* Move the cart icon to the middle */
                margin-left: auto; /* Push it to the right */
                margin-right: 10px; /* Add some spacing */
            }
        }

        .footer {
            background-color: #222;
            color: #fff;
            margin-top: 50px;
        }
        .footer h5 {
            color: #ff4d6d;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .footer a {
            color: #fff;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer a:hover {
            color: #ff4d6d;
        }
        .footer .text-muted {
            color: #aaa !important;
        }
        .footer .border-top {
            border-color: #444 !important;
        }

     
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(100px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .hero-content, .image-box {
            opacity: 0;
        }
        .hero-content.show, .image-box.show {
            animation: fadeIn 1.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{% url 'home' %}">
                <img src="{% static 'images/krix.logo.png' %}" alt="Krix Logo">
            </a>
            <!-- Cart Icon Outside the Dropdown -->
            <a class="nav-link d-lg-none me-3" href="{% url 'cart_view' %}">
                <i class="fas fa-shopping-cart"></i>
                <span class="badge bg-danger">{{ request.session.cart_count|default:0 }}</span>
            </a>
            <!-- Toggler Button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Dropdown Menu -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'products' %}">Products</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Contact</a></li>
                    <!-- Cart Icon for Desktop -->
                    <li class="nav-item d-none d-lg-block">
                        <a class="nav-link" href="{% url 'cart_view' %}">
                            <i class="fas fa-shopping-cart"></i> Cart
                            <span class="badge bg-danger">{{ request.session.cart_count|default:0 }}</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container hero-container">
        <div class="image-box order-1 order-lg-2"> 
            <div id="smallCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for image in carousel_images %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <img src="{{ image.image.url }}" class="d-block w-100" alt="Perfume Image">
                    </div>
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#smallCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#smallCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </div>

       
        <div class="hero-content order-2 order-lg-1">
            <h1>Unleash Your True Essence</h1>
            <p>Luxury perfumes based on your zodiac sign üåôüåø | A scent that matches your vibe üí´Crafted just for you ü§ç</p>
            <a href="{% url 'products' %}" class="shop-btn">Shop Now</a>
            <div class="zodiac-container text-center">
                <h3>Find Your Zodiac Sign</h3>
                <input type="date" id="birthdate" class="form-control w-50 mx-auto mt-2">
                <button class="btn btn-dark mt-2" onclick="getZodiacSign()">Find Sign</button>
                <p id="zodiac-result" class="mt-3 fw-bold"></p>
            </div>
        </div>
    </div>


    <footer class="footer bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5 class="mb-3">About Krix Perfumes</h5>
                    <p class="text-muted">Krix crafts luxury perfumes tailored to your zodiac sign ‚Äì where astrology meets artistry in every bottle. üåüüå†
                        Discover bespoke scents for all 12 signs ‚Äì blended with rare oils and celestial inspiration.
                        From bold, adventurous notes to soft, dreamy undertones, your zodiac essence is bottled just for you. üåôüß¥</p>
                </div>
                <div class="col-md-2 mb-4">
                    <h5 class="mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'home' %}" class="text-white text-decoration-none">Home</a></li>
                        <li><a href="{% url 'products' %}" class="text-white text-decoration-none">Products</a></li>
                        <li><a href="{% url 'contact' %}" class="text-white text-decoration-none">Contact</a></li>
                        
                        <il> <a href="{% url 'adminorders_protect' %}">Admin Orders</a>
                        </il>  
                    
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5 class="mb-3">Contact Us</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i>dokki, giza</li>
                        <li class="mb-2"><i class="fas fa-phone me-2"></i>+02 1553546396</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i>krixperfume@gmail.com</li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5 class="mb-3">Follow Us</h5>
                    <div class="d-flex">
                        <a href="https://www.facebook.com/yourpage" class="text-white me-3" target="_blank">
                            <i class="fab fa-facebook-f fa-lg"></i>
                        </a>
                        <a href="https://www.instagram.com/yourprofile" class="text-white me-3" target="_blank">
                            <i class="fab fa-instagram fa-lg"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("show");
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.3 });

            document.querySelectorAll(".hero-content, .image-box").forEach(el => observer.observe(el));
        });

        function getZodiacSign() {
            let date = document.getElementById("birthdate").value;
            if (!date) {
                document.getElementById("zodiac-result").innerText = "Please select a date!";
                return;
            }
            let birthMonth = new Date(date).getMonth() + 1;
            let birthDay = new Date(date).getDate();
            let zodiac = "";
            if ((birthMonth == 3 && birthDay >= 21) || (birthMonth == 4 && birthDay <= 19)) zodiac = "‚ôà Aries";
            else if ((birthMonth == 4 && birthDay >= 20) || (birthMonth == 5 && birthDay <= 20)) zodiac = "‚ôâ Taurus";
            else if ((birthMonth == 5 && birthDay >= 21) || (birthMonth == 6 && birthDay <= 20)) zodiac = "‚ôä Gemini";
            else if ((birthMonth == 6 && birthDay >= 21) || (birthMonth == 7 && birthDay <= 22)) zodiac = "‚ôã Cancer";
            else if ((birthMonth == 7 && birthDay >= 23) || (birthMonth == 8 && birthDay <= 22)) zodiac = "‚ôå Leo";
            else if ((birthMonth == 8 && birthDay >= 23) || (birthMonth == 9 && birthDay <= 22)) zodiac = "‚ôç Virgo";
            else if ((birthMonth == 9 && birthDay >= 23) || (birthMonth == 10 && birthDay <= 22)) zodiac = "‚ôé Libra";
            else if ((birthMonth == 10 && birthDay >= 23) || (birthMonth == 11 && birthDay <= 21)) zodiac = "‚ôè Scorpio";
            else if ((birthMonth == 11 && birthDay >= 22) || (birthMonth == 12 && birthDay <= 21)) zodiac = "‚ôê Sagittarius";
            else if ((birthMonth == 12 && birthDay >= 22) || (birthMonth == 1 && birthDay <= 19)) zodiac = "‚ôë Capricorn";
            else if ((birthMonth == 1 && birthDay >= 20) || (birthMonth == 2 && birthDay <= 18)) zodiac = "‚ôí Aquarius";
            else zodiac = "‚ôì Pisces";
            document.getElementById("zodiac-result").innerText = "Your Zodiac Sign: " + zodiac;
        }
    </script>
</body>
</html>